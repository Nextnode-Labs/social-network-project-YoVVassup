{"version":3,"sources":["assets/images/user.png","redux/dialogs-reduсer.js","api/api.js","components/News/News.module.css","components/Settings/Settings.module.css","components/Music/Music.module.css","assets/images/preloader.svg","components/Navbar/Navbar.module.css","components/Common/FormControls/FormsControls.js","reportWebVitals.js","redux/auth-reducer.js","redux/app-reducer.js","redux/sidebar-reduсer.js","utils/object-helpers.js","redux/users-reducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/Music/Music.jsx","components/Common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","hoc/withSuspense.js","App.js","index.js","components/Common/Preloader/Preloader.js","components/Common/FormControls/FormsControls.module.css","components/Users/Users.module.css","utils/validators/validators.js","components/Common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reduсer.js"],"names":["module","exports","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","validate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","SET_USER_DATA","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","dispatch","a","resultCode","url","authReducer","initialized","globalError","appReducer","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Header","s","header","image","size","loginBlock","onClick","to","HeaderContainer","this","React","Component","connect","Navbar","nav","item","activeClassName","activeLink","News","news","Settings","settings","Music","music","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","paginator","p","cn","selectedPage","pageNumber","key","e","User","user","style","width","src","photos","small","userPhoto","disabled","some","label","Users","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","bind","page","totalCount","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","formSummaryError","length","stopSubmit","_error","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledError","reason","promise","alert","initializeApp","addEventListener","removeEventListener","height","path","exact","render","AppContainer","withRouter","Promise","all","VenomApp","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength","posts","likescount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.dbbdbf5d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.37a74fdb.png\";","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dima'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Dasha'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Denis'},\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is it-kamasutra?'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Hay'},\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 5, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {'API-KEY' : '0aee9ee5-17f7-4274-98e9-799df269cc14'}\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n            return instance.put(`profile/status`, { status:status });\r\n    },\r\n    savePhoto(photoFile) {\r\n            const formData = new FormData();\r\n            formData.append('image', photoFile);\r\n            return instance.put(`profile/photo`, formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__37IdD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__3PBw6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"Music_music__3ximN\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.702af69b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1wDed\",\"item\":\"Navbar_item__34qQ5\",\"activeLink\":\"Navbar_activeLink__K4jqu\"};","import React from 'react';\r\nimport styles from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {InputTextarea} from 'primereact/inputtextarea';\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + '' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (<FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (<FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = '') => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}/>{text}\r\n    </div>\r\n)","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'venom-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'venom-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n})\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n})\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n\r\n// export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n//     return (items.users || []).map(u =>\r\n//         (u[objPropName] === itemId) ? {...u, ...newObjProps} : u);\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import {applyMiddleware, combineReducers, createStore, compose} from 'redux';\r\nimport profileReducer from './profile-reduсer';\r\nimport dialogsReducer from './dialogs-reduсer';\r\nimport sidebarReducer from './sidebar-reduсer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react'\r\nimport s from './Header.module.css'\r\nimport {Avatar} from 'primereact/avatar';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <Avatar image='https://static.wikia.nocookie.net/cnc/images/3/34/CNCTA_Forgotten.jpg' size='large' />\r\n        <div className={s.loginBlock}>\r\n            { props.isAuth\r\n                ? <div>{props.login} - <button onClick={props.logout}>Log out</button> </div>\r\n                : <NavLink to={'/login'}>Login</NavLink> }\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout}) (HeaderContainer);","import React from 'react'\r\nimport s from './Navbar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to={'/profile'} activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item}`}>\r\n                <NavLink to={'/dialogs'} activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/news'} activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/music'} activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/users'} activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/settings'} activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react'\r\nimport s from './News.module.css'\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst News = (props) => {\r\n    //if (!props.isAuth) return <Redirect to={'/login'}/>;\r\n    return (\r\n        <div className={s.news}>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react'\r\nimport s from './Settings.module.css'\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Settings = (props) => {\r\n    //if (!props.isAuth) return <Redirect to={'/login'}/>;\r\n    return (\r\n        <div className={s.settings}>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react'\r\nimport s from './Music.module.css'\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Music = (props) => {\r\n    //if (!props.isAuth) return <Redirect to={'/login'}/>;\r\n    return (\r\n        <div className={s.music}>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React, {useState, useEffect} from 'react';\r\nimport {Button} from 'primereact/button';\r\nimport s from './Paginator.module.css';\r\nimport cn from 'classnames'\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    useEffect(()=>setPortionNumber(Math.ceil(currentPage/portionSize)), [currentPage]);\r\n\r\n    return (<div className={s.paginator}>\r\n        {portionNumber > 1 &&\r\n        <Button className='p-button-secondary m-1 p-1' onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>PREV</Button>}\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({\r\n                    [s.selectedPage]: currentPage === p\r\n                }, s.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <Button className='p-button-secondary m-1 p-1' onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</Button>}\r\n    </div>)\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport {Button} from 'primereact/button';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div>\r\n            <div className='grid flex justify-content-start my-0 mx-1' style={{width: '500px'}}>\r\n                <div className='col-fixed' style={{width: '120px'}}>\r\n                    <div className='flex justify-content-center'>\r\n                        {/*<Avatar src={user.photoUrl} className={s.userPhoto} size=\"xlarge\"/>*/}\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                            <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                                 className={s.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className='flex justify-content-center'>\r\n                        {user.followed\r\n                            ? <Button disabled={followingInProgress\r\n                                .some(id => id === user.id)} label='Unfollow'\r\n                                      onClick={() => {\r\n                                          unfollow(user.id);\r\n                                      }}\r\n                                      className='p-button-secondary m-1 p-1'/>\r\n                            : <Button disabled={followingInProgress\r\n                                .some(id => id === user.id)} label='Follow'\r\n                                      onClick={() => {\r\n                                          follow(user.id);\r\n                                      }}\r\n                                      className='p-button-secondary m-1 p-1'/>}\r\n                    </div>\r\n                </div>\r\n                <div className='col'>\r\n                    <span className='flex-row'>\r\n                        <div className='flex'>\r\n                            {user.name}\r\n                        </div>\r\n                        <div className='flex py-3'>\r\n                            {user.status}\r\n                        </div>\r\n                    </span>\r\n                    <span className='col flex flex-column'>\r\n                        <div className='flex justify-content-end'>\r\n                            {'user.location.country'}\r\n                        </div>\r\n                        <div className='flex justify-content-end'>\r\n                            {'user.location.city'}\r\n                        </div>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>)\r\n}\r\n\r\nexport default User;","import React, {useEffect, useState} from 'react';\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\n// import {Paginator} from 'primereact/paginator';\r\nimport User from \"./User\";\r\nimport s from './Users.module.css'\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n\r\n    return <div className={s.users}>\r\n        <div className={`${s.paginator} m-2`}>\r\n            <Paginator  currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n        </div>\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u} key={u.id}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     unfollow={props.unfollow}\r\n                                     follow={props.follow}/>\r\n                )\r\n            }\r\n        </div>\r\n    </div>\r\n\r\n}\r\n\r\nexport default Users;","import {createSelector} from 'reselect'\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getUsers = createSelector(getUsersSelector,\r\n   (users) => {\r\n    return users.filter(u =>true);\r\n})\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getFollowingInProgress, getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,\r\n        {follow, unfollow, setCurrentPage,\r\n            toggleFollowingProgress, getUsers: requestUsers})\r\n)(UsersContainer)\r\n","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from './../Common/FormControls/FormsControls.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', [required], Input, {type: 'textarea'})}\r\n            {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n            {createField(null, 'rememberMe', [], Input, {type: 'checkbox'}, 'remember me')}\r\n\r\n            {captchaUrl && <img src={captchaUrl} />}\r\n            {captchaUrl && createField('Symbols from image', 'captcha', [required], Input, {})}\r\n\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}</div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h2>Login</h2>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n    </div>\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\nimport Preloader from \"../components/Common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n         return <React.Suspense fallback={<Preloader />} >\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}\r\n","import React, {Suspense} from 'react';\r\nimport {BrowserRouter, Redirect, Route, Switch, withRouter} from 'react-router-dom';\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport store from \"./redux/redux-store\";\r\nimport 'primereact/resources/themes/nova-alt/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport 'primeflex/primeflex.css';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer'\r\nimport Navbar from './components/Navbar/Navbar'\r\nimport News from './components/News/News'\r\nimport Settings from './components/Settings/Settings'\r\nimport Music from './components/Music/Music'\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport Preloader from \"./components/Common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledError = (reason, promise) => {\r\n        alert('Some error occured')\r\n        //console.error(promiseRejectionEvent)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledError);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledError);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'> {/*grid-nogutter // убирает промежутки*/}\r\n                <div className='mx-0 mt-0 mb-0 p-1 shadow-4' style={{height: '60px'}}><HeaderContainer/></div>\r\n                <div className='grid'>\r\n                    <div className='col-fixed pr-2' style={{width: '150px'}}><Navbar/></div>\r\n                    <div className='col mt-2'>\r\n                        <div className={'app-wrapper-content'}>\r\n                            <Switch>\r\n                                <Route path={'/'} exact><Redirect to='/profile'/></Route>\r\n                                <Route path={'/dialogs'}\r\n                                       render={withSuspense(DialogsContainer)}/>\r\n                                <Route path={'/profile/:userId?'}\r\n                                       render={withSuspense(ProfileContainer)}/>\r\n                                <Route path={'/news'} render={() => <News/>}/>\r\n                                <Route path={'/music'} render={() => <Music/>}/>\r\n                                <Route path={'/users'} render={() => <UsersContainer/>}/>\r\n                                <Route path={'/settings'} render={() => <Settings/>}/>\r\n                                <Route path={'/login'} render={() => <LoginPage/>}/>\r\n                                <Route path={'*'} render={() => <div>404 NOT FOUND</div>}/>\r\n\r\n                            </Switch>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst VenomApp = (props) => {\r\n    return (/*<React.StrictMode>*/\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </BrowserRouter>)\r\n    /*</React.StrictMode>*/\r\n}\r\n\r\nexport default VenomApp;","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from 'react-dom';\r\nimport VenomApp from \"./App\";\r\n\r\n\r\nReactDOM.render(\r\n    <VenomApp />,\r\n    document.getElementById('root'));\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import preloader from '../../../assets/images/preloader.svg';\r\nimport React from 'react';\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img src={preloader} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1pwx3\",\"error\":\"FormsControls_error__1hZfW\",\"formSummaryError\":\"FormsControls_formSummaryError__18YQ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2Xykz\",\"users\":\"Users_users__2hosF\",\"paginator\":\"Users_paginator__1L71Q\"};","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Paginator_pageNumber__1EM_w\",\"selectedPage\":\"Paginator_selectedPage__2d88i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2N2JB\",\"loginBlock\":\"Header_loginBlock__2jIBj\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likescount: 15},\r\n        {id: 2, message: 'It\\'s my first post', likescount: 20},\r\n        {id: 3, message: 'LOL', likescount: 4},\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 4,\r\n                message: action.newPostText,\r\n                likescount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data));\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    } catch (error) {\r\n        // обработать ошибку\r\n    }\r\n\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n       dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}